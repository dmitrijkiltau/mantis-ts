@layer components {
  .tool-panel {
    @apply flex flex-col gap-4;
  }

  .tool-panel-header {
    @apply flex items-center justify-between gap-3 flex-wrap;
  }

  .tool-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .tool-card {
    @apply p-4 rounded border flex flex-col gap-4;
    background: var(--color-bg-terminal);
    border-color: var(--color-primary-30);
    box-shadow: var(--shadow-glow-primary-soft), inset 0 1px 0 var(--color-primary-10);
  }

  .tool-card-header {
    @apply flex flex-col gap-1;
  }

  .tool-count-badge {
    @apply inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-bold tracking-widest;
    background: var(--color-primary-10);
    border-color: var(--color-primary-30);
    color: var(--color-terminal-primary);
    box-shadow: var(--shadow-glow-primary-soft);
  }

  .tool-label {
    @apply text-sm font-bold tracking-wider text-terminal-primary;
  }

  .tool-subtext {
    @apply text-xs text-primary-70;
  }

  .tool-form {
    @apply flex flex-col gap-3;
  }

  .field {
    @apply flex flex-col gap-2;
  }

  .field-grid {
    @apply grid gap-3;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .field-label {
    @apply text-xs font-bold uppercase tracking-widest text-primary-70;
  }

  .field-input {
    @apply w-full px-3 py-2 rounded border text-sm font-mono;
    background: var(--color-bg-black);
    border-color: var(--color-primary-30);
    color: var(--color-terminal-primary);

    &:focus {
      outline: 2px solid var(--color-primary-40);
      box-shadow: var(--shadow-glow-primary-soft);
    }
  }

  .switches {
    @apply flex gap-4 flex-wrap;
  }

  .switch {
    @apply inline-flex items-center gap-2 text-sm text-terminal-primary;
  }

  .tool-results {
    @apply flex flex-col gap-3 max-h-80 overflow-y-auto;
  }

  .tool-placeholder {
    @apply text-xs text-primary-70 py-3 px-4 rounded border border-dashed;
    border-color: var(--color-primary-30);
    background: var(--color-primary-5);
  }

  .tool-result-card {
    @apply p-3 rounded border flex flex-col gap-2;
    background: var(--color-primary-8);
    border-color: var(--color-primary-30);
  }

  .tool-result-title {
    @apply text-xs font-bold uppercase tracking-widest text-terminal-cyan;
  }

  .tool-result-meta {
    @apply text-[11px] text-primary-70;
  }

  .tool-result-card pre {
    @apply text-xs whitespace-pre-wrap p-2 rounded border;
    background: var(--color-bg-black);
    border-color: var(--color-primary-20);
    color: var(--color-terminal-primary);
  }

  .tool-schema {
    @apply flex flex-col gap-2;
  }

  .tool-schema-label {
    @apply text-[11px] font-bold uppercase tracking-[0.25em] text-primary-70;
  }

  .tool-schema-list {
    @apply flex flex-wrap gap-2;
  }

  .schema-pill {
    @apply inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs leading-none font-semibold;
    background: var(--color-primary-8);
    border-color: var(--color-primary-30);
    color: var(--color-terminal-primary);
  }

  .schema-name {
    @apply text-[11px] uppercase tracking-[0.1em] text-terminal-cyan;
  }

  .schema-type {
    @apply text-[11px] text-primary-70;
  }

  /* Process List Visualization */
  .process-list {
    @apply flex flex-col gap-2 rounded border p-3;
    background: var(--color-bg-terminal);
    border-color: var(--color-primary-30);
    box-shadow: var(--shadow-glow-primary-soft);
  }

  .process-list-header {
    @apply flex items-center justify-between gap-2 pb-2 mb-2 border-b;
    border-color: var(--color-primary-20);
  }

  .process-list-title {
    @apply text-sm font-bold tracking-wider text-terminal-cyan;
  }

  .process-list-meta {
    @apply text-xs text-primary-70;
  }

  .process-list-warning {
    @apply px-2 py-1 rounded text-[10px] font-bold tracking-wider;
    background: var(--color-warning-20);
    color: var(--color-warning);
    box-shadow: 0 0 4px var(--color-warning);
  }

  .process-list-body {
    @apply flex flex-col gap-2;
  }

  .process-row {
    @apply flex flex-col gap-2 p-3 rounded border;
    background: var(--color-bg-black);
    border-color: var(--color-primary-20);
    transition: all 0.2s;

    &:hover {
      border-color: var(--color-primary-40);
      box-shadow: var(--shadow-glow-primary-soft);
    }
  }

  .process-main {
    @apply flex items-center gap-3;
  }

  .process-pid {
    @apply px-2 py-1 rounded text-xs font-mono font-bold;
    background: var(--color-primary-10);
    color: var(--color-terminal-cyan);
    min-width: 60px;
    text-align: center;
  }

  .process-name {
    @apply text-sm font-bold text-terminal-primary;
  }

  .process-stats {
    @apply grid gap-2;
    grid-template-columns: 1fr 1fr 1fr;
  }

  .process-stat {
    @apply flex flex-col gap-1;
  }

  .process-stat-label {
    @apply text-[10px] font-bold uppercase tracking-widest text-primary-70;
  }

  .process-stat-value {
    @apply text-xs font-mono text-terminal-primary;
  }

  .process-cpu-bar {
    @apply relative h-5 rounded border overflow-hidden;
    background: var(--color-bg-black);
    border-color: var(--color-primary-20);
  }

  .process-cpu-fill {
    @apply absolute inset-y-0 left-0;
    background: var(--color-terminal-primary);
    box-shadow: 0 0 6px var(--color-terminal-primary);
    transition: width 0.3s;
  }

  .process-cpu-text {
    @apply absolute inset-0 flex items-center justify-center text-[10px] font-bold z-10;
    transition: color 0.3s;
  }

  .process-cpu-text-empty {
    color: var(--color-terminal-primary);
    text-shadow: 0 0 2px var(--color-bg-black);
  }

  .process-cpu-text-filled {
    color: var(--color-bg-black);
    text-shadow: 0 0 2px var(--color-terminal-primary);
  }

  .process-command {
    @apply text-[11px] font-mono text-primary-70 mt-1 px-2 py-1 rounded;
    background: var(--color-primary-5);
    border: 1px solid var(--color-primary-10);
    word-break: break-all;
  }
}
