@layer components {
  .tool-panel {
    @apply flex flex-col gap-5;
    max-width: 980px;
    margin: 0 auto;
  }

  .tool-panel-header {
    @apply flex items-start justify-between gap-4 flex-wrap;
  }

  .tool-panel-title {
    @apply text-sm font-bold tracking-[0.2em] text-terminal-primary;
    text-shadow: var(--shadow-text-primary-soft);
  }

  .tool-panel-subtitle {
    @apply text-[11px] uppercase tracking-[0.3em] text-primary-70;
  }

  .tool-grid {
    @apply grid gap-5;
    grid-template-columns: 1fr;
  }

  @media (min-width: 900px) {
    .tool-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  .tool-card {
    @apply p-4 border flex flex-col gap-3 relative;
    background: var(--color-bg-terminal);
    border-color: var(--color-primary-30);
    box-shadow: var(--shadow-inset-glow), var(--shadow-glow-primary-soft);
  }

  .tool-card-header {
    @apply flex items-center justify-between gap-3;
  }

  .tool-title-group {
    @apply flex items-center gap-3;
  }

  .tool-icon {
    @apply text-xs font-mono px-2 py-1 border;
    background: var(--color-primary-10);
    border-color: var(--color-primary-40);
    color: var(--color-terminal-cyan);
    box-shadow: var(--shadow-glow-cyan);
  }

  .tool-name {
    @apply text-sm font-bold tracking-wider text-terminal-primary;
  }

  .tool-status {
    @apply inline-flex items-center gap-2 text-[11px] font-bold uppercase tracking-widest;
    color: var(--color-terminal-primary);

    &::before {
      content: "";
      @apply w-2 h-2 rounded-full;
      background: currentColor;
      box-shadow: 0 0 6px currentColor;
    }
  }

  .tool-status[data-status='LOCKED'] {
    color: var(--color-warning);
  }

  .tool-status[data-status='DEGRADED'] {
    color: var(--color-terminal-amber);
  }

  .tool-status[data-status='UNUSED'] {
    color: var(--color-primary-50);
  }

  .tool-card-meta {
    @apply grid gap-2;
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .tool-meta-row {
    @apply flex items-center justify-between text-[11px];
  }

  .tool-meta-label {
    @apply uppercase tracking-[0.25em] text-primary-70;
  }

  .tool-meta-value {
    @apply font-mono text-terminal-primary;
  }

  .tool-meta-value[data-risk='LOW'] {
    color: var(--color-terminal-emerald);
  }

  .tool-meta-value[data-risk='MEDIUM'] {
    color: var(--color-terminal-amber);
  }

  .tool-meta-value[data-risk='HIGH'] {
    color: var(--color-terminal-orange);
  }

  .tool-meta-value[data-risk='EXTERNAL'] {
    color: var(--color-terminal-cyan);
  }

  .tool-divider {
    @apply h-px w-full;
    background: var(--color-primary-20);
    box-shadow: 0 0 10px var(--color-primary-20);
  }

  .tool-count-badge {
    @apply inline-flex items-center gap-2 px-3 py-1 border text-[11px] font-bold tracking-widest;
    background: var(--color-primary-10);
    border-color: var(--color-primary-40);
    color: var(--color-terminal-primary);
    box-shadow: var(--shadow-glow-primary-soft);
  }

  .tool-section-label {
    @apply text-[10px] font-bold uppercase tracking-widest text-primary-70;
  }

  .tool-subtext {
    @apply text-[11px] uppercase tracking-wide text-primary-70;
  }

  .tool-brief {
    @apply flex flex-col gap-2;
  }

  .tool-brief-lines {
    @apply flex flex-col gap-1 text-[11px] font-mono uppercase tracking-widest text-primary-80;
  }

  .tool-brief-line {
    @apply text-primary-80;
  }

  .tool-capabilities {
    @apply flex flex-col gap-2;
  }

  .tool-capability-list {
    @apply flex flex-col gap-2;
  }

  .tool-capability-item {
    @apply pl-4 text-xs font-mono uppercase tracking-wider text-terminal-primary relative;

    &::before {
      content: "-";
      @apply absolute left-0 text-terminal-cyan;
    }
  }

  .tool-arguments {
    @apply flex flex-col gap-2;
  }

  .tool-arguments-list {
    @apply flex flex-col gap-2;
  }

  .tool-argument-row {
    @apply grid items-center gap-2 px-2 py-2 border text-[11px] font-mono;
    background: var(--color-bg-black);
    border-color: var(--color-primary-30);
    grid-template-columns: minmax(0, 1fr) auto auto;
  }

  .tool-argument-name {
    @apply uppercase tracking-widest text-terminal-cyan;
  }

  .tool-argument-type {
    @apply text-primary-70;
  }

  .tool-argument-required {
    @apply text-[10px] font-bold uppercase tracking-widest text-terminal-primary;
  }

  .tool-argument-required[data-required='optional'] {
    color: var(--color-primary-70);
  }

  .tool-manual {
    @apply border-t pt-3;
    border-color: var(--color-primary-20);
  }

  .tool-manual-summary {
    @apply text-[11px] font-bold uppercase tracking-widest text-terminal-cyan cursor-pointer;
    list-style: none;

    &::marker {
      content: "";
    }

    &::-webkit-details-marker {
      display: none;
    }
  }

  .tool-manual[open] .tool-manual-summary {
    color: var(--color-terminal-primary);
  }

  .tool-manual-body {
    @apply flex flex-col gap-3 mt-3;
  }

  .tool-manual-title {
    @apply text-[10px] font-bold uppercase tracking-[0.3em] text-primary-70;
  }

  .tool-manual-text {
    @apply text-xs text-primary-70;
    white-space: pre-wrap;
  }

  .tool-manual-tags {
    @apply flex flex-wrap gap-2;
  }

  .tool-manual-tag {
    @apply px-2 py-1 border text-[10px] font-mono uppercase tracking-widest;
    background: var(--color-primary-8);
    border-color: var(--color-primary-30);
    color: var(--color-terminal-primary);
  }

  .tool-form {
    @apply flex flex-col gap-3;
  }

  .field {
    @apply flex flex-col gap-2;
  }

  .field-grid {
    @apply grid gap-3;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .field-label {
    @apply text-xs font-bold uppercase tracking-widest text-primary-70;
  }

  .field-input {
    @apply w-full px-3 py-2 rounded border text-sm font-mono;
    background: var(--color-bg-black);
    border-color: var(--color-primary-30);
    color: var(--color-terminal-primary);

    &:focus {
      outline: 2px solid var(--color-primary-40);
      box-shadow: var(--shadow-glow-primary-soft);
    }
  }

  .switches {
    @apply flex gap-4 flex-wrap;
  }

  .switch {
    @apply inline-flex items-center gap-2 text-sm text-terminal-primary;
  }

  .tool-results {
    @apply flex flex-col gap-3 max-h-80 overflow-y-auto;
  }

  .tool-placeholder {
    @apply text-[11px] uppercase tracking-[0.2em] text-primary-70 py-4 px-4 border border-dashed;
    border-color: var(--color-primary-30);
    background: var(--color-primary-5);
  }

  .tool-result-card {
    @apply p-3 rounded border flex flex-col gap-2;
    background: var(--color-primary-8);
    border-color: var(--color-primary-30);
  }

  .tool-result-title {
    @apply text-xs font-bold uppercase tracking-widest text-terminal-cyan;
  }

  .tool-result-meta {
    @apply text-[11px] text-primary-70;
  }

  .tool-result-card pre {
    @apply text-xs whitespace-pre-wrap p-2 rounded border;
    background: var(--color-bg-black);
    border-color: var(--color-primary-20);
    color: var(--color-terminal-primary);
  }

  /* Process List Visualization */
  .process-list {
    @apply flex flex-col gap-2 rounded border p-3;
    background: var(--color-bg-terminal);
    border-color: var(--color-primary-30);
    box-shadow: var(--shadow-glow-primary-soft);
  }

  .process-list-header {
    @apply flex items-center justify-between gap-2 pb-2 mb-2 border-b;
    border-color: var(--color-primary-20);
  }

  .process-list-title {
    @apply text-sm font-bold tracking-wider text-terminal-cyan;
  }

  .process-list-meta {
    @apply text-xs text-primary-70;
  }

  .process-list-warning {
    @apply px-2 py-1 rounded text-[10px] font-bold tracking-wider;
    background: var(--color-warning-20);
    color: var(--color-warning);
    box-shadow: 0 0 4px var(--color-warning);
  }

  .process-list-body {
    @apply flex flex-col gap-2;
  }

  .process-row {
    @apply flex flex-col gap-2 p-3 rounded border;
    background: var(--color-bg-black);
    border-color: var(--color-primary-20);
    transition: all 0.2s;

    &:hover {
      border-color: var(--color-primary-40);
      box-shadow: var(--shadow-glow-primary-soft);
    }
  }

  .process-main {
    @apply flex items-center gap-3;
  }

  .process-pid {
    @apply px-2 py-1 rounded text-xs font-mono font-bold;
    background: var(--color-primary-10);
    color: var(--color-terminal-cyan);
    min-width: 60px;
    text-align: center;
  }

  .process-name {
    @apply text-sm font-bold text-terminal-primary;
  }

  .process-stats {
    @apply grid gap-2;
    grid-template-columns: 1fr 1fr 1fr;
  }

  .process-stat {
    @apply flex flex-col gap-1;
  }

  .process-stat-label {
    @apply text-[10px] font-bold uppercase tracking-widest text-primary-70;
  }

  .process-stat-value {
    @apply text-xs font-mono text-terminal-primary;
  }

  .process-cpu-bar {
    @apply relative h-5 rounded border overflow-hidden;
    background: var(--color-bg-black);
    border-color: var(--color-primary-20);
  }

  .process-cpu-fill {
    @apply absolute inset-y-0 left-0;
    background: var(--color-terminal-primary);
    box-shadow: 0 0 6px var(--color-terminal-primary);
    transition: width 0.3s;
  }

  .process-cpu-text {
    @apply absolute inset-0 flex items-center justify-center text-[10px] font-bold z-10;
    transition: color 0.3s;
  }

  .process-cpu-text-empty {
    color: var(--color-terminal-primary);
    text-shadow: 0 0 2px var(--color-bg-black);
  }

  .process-cpu-text-filled {
    color: var(--color-bg-black);
    text-shadow: 0 0 2px var(--color-terminal-primary);
  }

  .process-command {
    @apply text-[11px] font-mono text-primary-70 mt-1 px-2 py-1 rounded;
    background: var(--color-primary-5);
    border: 1px solid var(--color-primary-10);
    word-break: break-all;
  }
}
