@layer components {
  .pip-tablet {
    @apply rounded-lg overflow-hidden relative;
    @apply border-[3px] border-primary-60;
    background: linear-gradient(135deg, var(--color-bg-tablet), var(--color-bg-tablet-alt));
    box-shadow: var(--shadow-glow-primary-strong), var(--shadow-inset-glow-strong);

    &::before {
      content: "";
      @apply absolute inset-0 pointer-events-none;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        var(--color-scanline) 2px,
        var(--color-scanline) 4px
      );
    }
  }

  .tablet-header {
    @apply flex items-center justify-between px-5 py-3 border-b-2;
    background: var(--color-primary-15);
    border-color: var(--color-primary-40);
  }

  .tablet-title {
    @apply flex items-center gap-2 text-sm font-bold tracking-wider text-terminal-primary;
    text-shadow: var(--shadow-text-primary);

    .title-icon {
      @apply inline-block;
      animation: rotate 4s linear infinite;
    }
  }

  @keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .tablet-stats {
    @apply flex gap-4 text-xs;
  }

  .stat-item {
    @apply px-2 py-1 rounded text-terminal-primary border font-mono;
    background: var(--color-bg-black);
    border-color: var(--color-primary-30);
  }

  .tablet-tabs {
    @apply flex border-b-2;
    background: var(--color-bg-black-soft);
    border-color: var(--color-primary-30);
  }

  .tab-button {
    @apply flex-1 px-4 py-3 text-xs font-bold tracking-wider;
    @apply border-r border-r-primary-20 transition-all duration-200;
    @apply text-primary-50;

    &:last-child {
      @apply border-r-0;
    }

    &:hover {
      @apply bg-primary-10 text-primary-80;
    }

    &.active {
      @apply text-terminal-primary bg-primary-20;
      box-shadow: inset 0 -2px 0 var(--color-terminal-primary);
    }
  }

  .tablet-screen {
    @apply relative p-5 min-h-100 bg-bg-black;
  }

  .scan-line {
    @apply absolute left-0 right-0 h-0.5 pointer-events-none;
    background: linear-gradient(90deg, transparent, var(--color-primary-40), transparent);
    animation: scan 3s linear infinite;
  }

  @keyframes scan {
    from { top: 0; }
    to { top: 100%; }
  }

  .tablet-panel {
    @apply hidden;

    &.active {
      @apply block;
      animation: panel-fade-in 0.3s ease-out;
    }
  }

  @keyframes panel-fade-in {
    from {
      opacity: 0;
      transform: translateX(-10px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .status-display {
    @apply flex flex-col gap-3;
  }

  .status-row {
    @apply flex items-center gap-3 px-4 py-3 rounded border-l-[3px];
    background: var(--color-primary-5);
    border-color: var(--color-primary-50);
  }

  .status-label {
    @apply text-xs font-bold tracking-wider min-w-30;
    color: var(--color-primary-70);
  }

  .status-value {
    @apply text-sm font-mono text-terminal-primary;
    text-shadow: var(--shadow-text-primary-soft);
  }

  .history-list {
    @apply flex flex-col gap-3 max-h-100 overflow-y-auto;

    &::-webkit-scrollbar {
      @apply w-2;
    }

    &::-webkit-scrollbar-track {
      background: var(--color-bg-black-soft);
    }

    &::-webkit-scrollbar-thumb {
      @apply rounded;
      background: var(--color-primary-40);

      &:hover {
        background: var(--color-primary-60);
      }
    }
  }

  .answer-card {
    @apply p-4 rounded border;
    background: var(--color-primary-8);
    border-color: var(--color-primary-30);

    h3 {
      @apply text-sm font-bold mb-2 text-terminal-cyan;
      text-shadow: var(--shadow-glow-cyan);
    }

    pre {
      @apply text-xs whitespace-pre-wrap mt-2 p-2 rounded text-terminal-primary border;
      background: var(--color-bg-black);
      border-color: var(--color-primary-20);
    }

    p {
      @apply text-xs mt-2;
      color: var(--color-primary-70);
    }
  }

  .logs-console {
    @apply flex flex-col gap-1 max-h-100 overflow-y-auto text-xs font-mono;

    &::-webkit-scrollbar {
      @apply w-2;
    }

    &::-webkit-scrollbar-track {
      background: var(--color-bg-black-soft);
    }

    &::-webkit-scrollbar-thumb {
      @apply rounded;
      background: var(--color-primary-40);
    }
  }

  .log-entry {
    @apply py-1 px-2 border-b;
    color: var(--color-primary-80);
    border-color: var(--color-primary-10);

    &:hover {
      background: var(--color-primary-5);
    }
  }
}
