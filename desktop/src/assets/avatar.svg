<?xml version="1.0" encoding="UTF-8"?>
<svg
  width="160"
  height="160"
  viewBox="0 0 160 160"
  xmlns="http://www.w3.org/2000/svg"
  role="img"
  aria-label="AI assistant avatar"
>
  <style>
    :root {
      --stroke: rgba(0, 255, 136, 0.3);
      --stroke-strong: rgba(0, 255, 136, 0.6);
      --accent: #00ff88;
      --accent2: #22d3ee;
      --helmet-base: rgba(15, 35, 25, 0.95);
      --visor-glow: rgba(0, 255, 136, 0.15);
    }

    .idle {
      transform-origin: 80px 80px;
      animation: bob 3.6s ease-in-out infinite, scan 2s linear infinite;
    }

    .blink {
      transform-origin: 80px 70px;
      animation: blink 5s infinite;
    }

    [data-pupil] {
      transition: transform 90ms ease-out;
    }

    [data-face-highlight] {
      transition: opacity 200ms ease-out;
    }

    .scanline {
      animation: scanline 3s linear infinite;
      opacity: 0;
    }

    @keyframes bob {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(2px); }
    }

    @keyframes scan {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.1); }
    }

    @keyframes blink {
      0%, 93%, 100% { transform: scaleY(1); }
      95% { transform: scaleY(0.15); }
    }

    @keyframes scanline {
      0% { transform: translateY(-160px); opacity: 0.4; }
      50% { opacity: 0.6; }
      100% { transform: translateY(160px); opacity: 0.4; }
    }

    @media (prefers-reduced-motion: reduce) {
      .idle, .blink, .scanline { animation: none !important; }
    }
  </style>

  <defs>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <linearGradient id="helmetGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:rgba(0,255,136,0.2);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgba(0,255,136,0.05);stop-opacity:1" />
    </linearGradient>
    <radialGradient id="visorGrad" cx="50%" cy="45%">
      <stop offset="0%" style="stop-color:rgba(0,255,136,0.25);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgba(0,255,136,0.08);stop-opacity:1" />
    </radialGradient>
  </defs>

  <g class="idle">
    <!-- Retro helmet base -->
    <path
      d="M 80 20 L 110 35 L 120 70 L 115 110 L 80 130 L 45 110 L 40 70 L 50 35 Z"
      fill="var(--helmet-base)"
      stroke="var(--stroke-strong)"
      stroke-width="1.5"
      filter="url(#glow)"
    />

    <!-- Helmet panels (retro tech details) -->
    <path
      d="M 50 35 L 55 40 L 55 105 L 50 110"
      fill="none"
      stroke="var(--stroke)"
      stroke-width="1"
    />
    <path
      d="M 110 35 L 105 40 L 105 105 L 110 110"
      fill="none"
      stroke="var(--stroke)"
      stroke-width="1"
    />

    <!-- Top vent lines -->
    <line x1="70" y1="28" x2="70" y2="38" stroke="var(--stroke)" stroke-width="1" opacity="0.6"/>
    <line x1="80" y1="25" x2="80" y2="35" stroke="var(--stroke-strong)" stroke-width="1.5"/>
    <line x1="90" y1="28" x2="90" y2="38" stroke="var(--stroke)" stroke-width="1" opacity="0.6"/>

    <!-- Visor frame (angular) -->
    <path
      d="M 48 55 L 48 85 L 58 92 L 102 92 L 112 85 L 112 55 L 102 48 L 58 48 Z"
      fill="url(#visorGrad)"
      stroke="var(--stroke-strong)"
      stroke-width="2"
      filter="url(#glow)"
    />

    <!-- Visor highlight glow -->
    <ellipse
      cx="80"
      cy="68"
      rx="45"
      ry="28"
      data-face-highlight=""
      fill="var(--accent)"
      opacity="0.25"
      style="mix-blend-mode: screen;"
    />

    <!-- Visor division line -->
    <line 
      x1="48" 
      y1="70" 
      x2="112" 
      y2="70" 
      stroke="var(--stroke)" 
      stroke-width="1" 
      opacity="0.4"
    />

    <!-- Left eye (HUD style) -->
    <g class="blink">
      <rect x="56" y="60" width="18" height="20" rx="2" fill="rgba(0,255,136,0.15)" stroke="var(--stroke-strong)" stroke-width="1"/>
      <circle cx="65" cy="70" r="6" fill="var(--accent)" opacity="0.9" filter="url(#glow)"/>
      <circle data-pupil="" cx="65" cy="70" r="3" fill="rgba(20,20,30,0.95)"/>
      <circle cx="67" cy="68" r="1.5" fill="rgba(255,255,255,0.8)"/>
    </g>

    <!-- Right eye (HUD style) -->
    <g class="blink">
      <rect x="86" y="60" width="18" height="20" rx="2" fill="rgba(0,255,136,0.15)" stroke="var(--stroke-strong)" stroke-width="1"/>
      <circle cx="95" cy="70" r="6" fill="var(--accent)" opacity="0.9" filter="url(#glow)"/>
      <circle data-pupil="" cx="95" cy="70" r="3" fill="rgba(20,20,30,0.95)"/>
      <circle cx="97" cy="68" r="1.5" fill="rgba(255,255,255,0.8)"/>
    </g>

    <!-- Mouth area (speaker grille) -->
    <g>
      <line x1="68" y1="95" x2="68" y2="102" stroke="var(--stroke)" stroke-width="1" opacity="0.5"/>
      <line x1="74" y1="95" x2="74" y2="102" stroke="var(--stroke)" stroke-width="1" opacity="0.5"/>
      <line x1="80" y1="95" x2="80" y2="102" stroke="var(--stroke-strong)" stroke-width="1.5" opacity="0.7"/>
      <line x1="86" y1="95" x2="86" y2="102" stroke="var(--stroke)" stroke-width="1" opacity="0.5"/>
      <line x1="92" y1="95" x2="92" y2="102" stroke="var(--stroke)" stroke-width="1" opacity="0.5"/>
      <path
        data-mouth=""
        d="M 65 97 C 72 102 88 102 95 97"
        fill="none"
        stroke="var(--accent)"
        stroke-width="1.5"
        stroke-linecap="round"
        opacity="0.6"
      />
    </g>

    <!-- Side vents/details -->
    <rect x="42" y="75" width="4" height="20" rx="1" fill="rgba(0,0,0,0.3)" stroke="var(--stroke)" stroke-width="0.5"/>
    <rect x="114" y="75" width="4" height="20" rx="1" fill="rgba(0,0,0,0.3)" stroke="var(--stroke)" stroke-width="0.5"/>

    <!-- Scanline effect -->
    <rect class="scanline" x="40" y="0" width="80" height="3" fill="var(--accent)" opacity="0"/>
  </g>

  <!-- Corner brackets (HUD frame) -->
  <path d="M 15 15 L 15 35 M 15 15 L 35 15" stroke="var(--stroke)" stroke-width="1.5" opacity="0.4"/>
  <path d="M 145 15 L 145 35 M 145 15 L 125 15" stroke="var(--stroke)" stroke-width="1.5" opacity="0.4"/>
  <path d="M 15 145 L 15 125 M 15 145 L 35 145" stroke="var(--stroke)" stroke-width="1.5" opacity="0.4"/>
  <path d="M 145 145 L 145 125 M 145 145 L 125 145" stroke="var(--stroke)" stroke-width="1.5" opacity="0.4"/>
</svg>
